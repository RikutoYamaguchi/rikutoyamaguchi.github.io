webpackJsonp([1],{NHnr:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=a("7+uW"),o=a("Dd8w"),l=a.n(o),r=a("NYxO"),c={name:"Home",methods:l()({},Object(r.b)("modal",["push"]),{onClickPush:function(){this.push({name:"ModalSample1",params:{message:"This message was passed by 'params'."},dfd:!0,callback:function(e,n){console.log("callback"),console.log(n)}}).then(function(e){console.log("then"),console.log(e)}).catch(function(e){console.log("err"),console.log(e)})}})},s={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"home"},[n("button",{on:{click:this.onClickPush}},[this._v("push ModalSample1")])])},staticRenderFns:[]},i=a("VU/8")(c,s,!1,null,null,null).exports,d={name:"ModalContainer",methods:l()({},Object(r.b)("modal",["close","go","forward","back","reject","resolve"]))},u={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-box"},[e._t("default"),e._v(" "),a("button",{on:{click:e.close}},[e._v("close")]),e._v(" "),a("button",{on:{click:function(n){e.reject({message:"reject message"})}}},[e._v("reject")]),e._v(" "),a("button",{on:{click:function(n){e.go(-2)}}},[e._v("go(-2)")]),e._v(" "),a("button",{on:{click:function(n){e.go(-1)}}},[e._v("go(-1)")]),e._v(" "),a("button",{on:{click:function(n){e.go(1)}}},[e._v("go(1)")]),e._v(" "),a("button",{on:{click:function(n){e.go(2)}}},[e._v("go(2)")]),e._v(" "),a("button",{on:{click:e.back}},[e._v("back")]),e._v(" "),a("button",{on:{click:e.forward}},[e._v("forward")]),e._v(" "),a("button",{on:{click:function(n){e.resolve({message:"resolve data"})}}},[e._v("resolve")])],2)])},staticRenderFns:[]};var m=a("VU/8")(d,u,!1,function(e){a("g2Yo")},"data-v-1d736e4b",null).exports,p={name:"ModalSample1",components:{ModalContainer:m},computed:l()({},Object(r.c)("modal",["currentModalParams"])),methods:l()({},Object(r.b)("modal",["push"]),{onClickPush:function(){this.push({name:"ModalSample2"})}})},f={render:function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("ModalContainer",[a("div",{staticClass:"modal-confirm"},[e._v("\n    ModalSample1"),a("br"),e._v(" "),a("p",[e._v(e._s(e.currentModalParams.message))]),e._v(" "),a("button",{on:{click:e.onClickPush}},[e._v("push ModalSample2")])])])},staticRenderFns:[]},h=a("VU/8")(p,f,!1,null,null,null).exports,v={name:"ModalSample2",components:{ModalContainer:m},methods:l()({},Object(r.b)("modal",["push","replace"]),{onClickPush:function(){this.push({name:"ModalSample3"})},onClickReplace:function(){this.replace({name:"ModalSample3",callback:function(e,n){console.log("replace method callback"),console.log(e),console.log(n)}})}})},b={render:function(){var e=this.$createElement,n=this._self._c||e;return n("ModalContainer",[n("div",{staticClass:"modal-confirm"},[this._v("\n    ModalSample2"),n("br"),this._v(" "),n("button",{on:{click:this.onClickPush}},[this._v("push ModalSample3")]),this._v(" "),n("button",{on:{click:this.onClickReplace}},[this._v("replace ModalSample3")])])])},staticRenderFns:[]},g={name:"ModalSample3",components:{ModalContainer:m}},k={render:function(){var e=this.$createElement,n=this._self._c||e;return n("ModalContainer",[n("div",{staticClass:"modal-confirm"},[this._v("\n    ModalSample3"),n("br")])])},staticRenderFns:[]},M={name:"Modal",components:{ModalSample1:h,ModalSample2:a("VU/8")(v,b,!1,null,null,null).exports,ModalSample3:a("VU/8")(g,k,!1,null,null,null).exports},computed:l()({},Object(r.c)("modal",["currentModalName","isShow","transitionName"])),methods:l()({},Object(r.b)("modal",["close"])),mounted:function(){var e=this;this.$refs.modal.addEventListener("click",function(n){var a=n.path,t=!0;_.each(a,function(e){e.className&&e.className.match("modal-box")&&(t=!1)}),t&&e.close()})}},N={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{ref:"modal"},[n("transition",{attrs:{name:"fade"}},[this.isShow?n("div",{staticClass:"modal-bg"}):this._e()]),this._v(" "),n("div",{staticClass:"modal"},[n("transition",{attrs:{name:this.transitionName}},[n(this.currentModalName,{tag:"component"})],1)],1)],1)},staticRenderFns:[]};var x,C={name:"App",components:{Home:i,Modal:a("VU/8")(M,N,!1,function(e){a("Yp6S")},"data-v-68aad412",null).exports}},S={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("Home"),this._v(" "),n("Modal")],1)},staticRenderFns:[]},w=a("VU/8")(C,S,!1,null,null,null).exports,j=a("bOdI"),P=a.n(j),y=a("M4fF"),I=a.n(y),F="",O="scale",E="forward",R="backward",$=a("//Fk"),U=a.n($),V=null,L=function(e){var n=null,a=null;V=new U.a(function(e,t){n=e,a=t}),e("init_deferred",{resolve:n,reject:a})},T=function(e,n){I.a.each(e,function(e){I.a.isFunction(e)&&e(n.err,n.data)})},H={push:function(e,n){var a=e.commit,t=e.getters,o=(e.dispatch,n.name),l=n.params,r=n.callback,c=void 0===r?null:r,s=n.dfd,i=t.modalLength,d=t.deferred,u=t.modalNames,m=t.currentIndex;a("apply_transition",i>0?{transitionName:E}:{transitionName:O});var p=0===i?0:m+1;if(u[p]?a("replace",{name:o,params:l,callback:c,index:p}):a("push",{name:o,params:l,callback:c}),I.a.delay(function(){return a("change_index",p)},1),null===d&&L(a),s)return V},replace:function(e,n){var a=e.commit,t=e.getters,o=n.name,l=n.params,r=n.callback,c=void 0===r?null:r,s=n.dfd,i=t.modalLength,d=t.currentIndex,u=t.deferred;return 0===i?(console.warn("There is no target modal."),!1):(a("apply_transition",{transitionName:F}),a("replace",{name:o,params:l,callback:c,index:d}),null===u&&L(a),s?V:void 0)},close:function(e){var n=e.commit;n("apply_transition",{transitionName:O}),V=null,I.a.delay(function(){return n("close")},1)},reject:function(e){var n=e.dispatch,a=e.getters,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=a.callbacks,l=a.deferred;T(o,{err:t,data:null}),null!==l&&l.reject(t),n("close")},resolve:function(e,n){var a=e.dispatch,t=e.getters,o=t.callbacks,l=t.deferred;T(o,{err:null,data:n}),null!==l&&l.resolve(n),a("close")},go:function(e,n){var a=e.commit,t=e.getters,o=t.modalLength,l=t.currentIndex+n;if(l<0||o-1<l)return console.warn("There is no target modal."),!1;a("apply_transition",n>0?{transitionName:E}:{transitionName:R}),I.a.delay(function(){return a("add_index",n)},1)},forward:function(e){var n=e.commit,a=e.getters,t=a.modalLength,o=a.currentIndex+1;if(o>t-1)return console.warn("There is no target modal."),!1;n("apply_transition",{transitionName:E}),I.a.delay(function(){return n("change_index",o)},1)},back:function(e){var n=e.commit,a=e.getters.currentIndex-1;if(a<0)return console.warn("There is no target modal."),!1;n("apply_transition",{transitionName:"backward"}),I.a.delay(function(){return n("change_index",a)},1)}},Y={namespaced:!0,state:{modalNames:[],modalParams:[],currentIndex:0,transitionName:O,callbacks:[],deferred:null},mutations:(x={},P()(x,"push",function(e,n){var a=n.name,t=n.params,o=void 0===t?null:t,l=n.callback;e.modalNames.push(a),e.modalParams.push(o),e.callbacks.push(l)}),P()(x,"replace",function(e,n){var a=n.name,t=n.params,o=void 0===t?null:t,l=n.callback,r=n.index;e.modalNames[r]=a,e.modalParams[r]=o,e.callbacks[r]=l,e.modalNames.splice(r+1,e.modalNames.length-1),e.modalParams.splice(r+1,e.modalParams.length-1),e.callbacks.splice(r+1,e.callbacks.length-1)}),P()(x,"close",function(e){e.modalNames=[],e.modalParams=[],e.transitionName=O,e.currentIndex=0,e.callbacks=[],e.deferred=null}),P()(x,"add_index",function(e,n){e.currentIndex+=n}),P()(x,"change_index",function(e,n){e.currentIndex=n}),P()(x,"apply_transition",function(e,n){var a=n.transitionName;e.transitionName=a}),P()(x,"init_deferred",function(e,n){var a=n.resolve,t=n.reject;e.deferred={resolve:a,reject:t}}),x),actions:H,getters:{modalNames:function(e){return e.modalNames},currentIndex:function(e){return e.currentIndex},currentModalName:function(e){return e.modalNames[e.currentIndex]||null},currentModalParams:function(e){return e.modalParams[e.currentIndex]||null},modalLength:function(e){return e.modalNames.length},isShow:function(e,n){return!I.a.isEmpty(n.currentModalName)},transitionName:function(e){return e.transitionName},deferred:function(e){return e.deferred},callbacks:function(e){return e.callbacks}}};t.a.use(r.a);var A=new r.a.Store({modules:{modal:Y}});t.a.config.productionTip=!1,new t.a({el:"#app",components:{App:w},template:"<App/>",store:A})},Yp6S:function(e,n){},g2Yo:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.e22297be728b7a9e726a.js.map